# Gitea

## 管理者アカウントの作成方法

インストール時に作成する。

## SSO設定

### Keycloak管理画面

1. 左メニューから「クライアント」→「作成」→「ファイルを選択」から `keycloak/client_settings/app-gitea-oicd.json` をインポートし「保存」
2. 「クレデンシャル」タブを開き「シークレット」の内容をメモする (※1)

### Gitea管理画面

1. 管理者アカウントでログインする
2. 「メニュー」→「サイト管理」→「認証ソース」→「認証ソースを追加」
3. 各項目を以下のように設定して「認証ソースを追加」

| 項目                           | 内容           | 備考 |
| ------------------------------ | -------------- | ---- |
| 認証タイプ                     | OAuth2         |      |
| 認証名                         | keycloak       | 任意 |
| OAuth2プロバイダー             | OpenID Connect | 任意 |
| クライアントID (キー)          | app-gitea      |      |
| クライアント シークレット      | ※1の内容       |      |
| 認証ソースはアクティベート済み | チェックする   |      |
